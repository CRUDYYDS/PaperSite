<div class="github-config-container">
    <div class="config-header">
    <h3>ğŸ”§ GitHubé…ç½®</h3>
    <p class="subtitle">é…ç½®GitHubä»“åº“è®¿é—®ä¿¡æ¯ä»¥å¯ç”¨ä¸Šä¼ åŠŸèƒ½</p>
    </div>

    <form [formGroup]="configForm" (ngSubmit)="onSave()">
    <div class="form-group">
        <label for="owner">GitHubç”¨æˆ·å/ç»„ç»‡å *</label>
        <input 
        id="owner"
        type="text" 
        formControlName="owner" 
        placeholder="ä¾‹å¦‚: your-username"
        class="form-control">
        <small class="help-text">ä»“åº“æ‰€æœ‰è€…çš„GitHubç”¨æˆ·å</small>
    </div>

    <div class="form-group">
        <label for="repo">ä»“åº“åç§° *</label>
        <input 
        id="repo"
        type="text" 
        formControlName="repo" 
        placeholder="ä¾‹å¦‚: papers-site"
        class="form-control">
        <small class="help-text">ç”¨äºå­˜å‚¨è®ºæ–‡çš„GitHubä»“åº“åç§°</small>
    </div>

    <div class="form-group">
        <label for="token">Personal Access Token *</label>
        <div class="token-input-group">
        <input 
            id="token"
            [type]="showToken ? 'text' : 'password'" 
            formControlName="token" 
            placeholder="è¾“å…¥GitHub Personal Access Token"
            class="form-control">
        <button 
            type="button" 
            class="toggle-visibility"
            (click)="toggleTokenVisibility()"
            [title]="showToken ? 'éšè—Token' : 'æ˜¾ç¤ºToken'">
            {{showToken ? 'ğŸ™ˆ' : 'ğŸ‘ï¸'}}
        </button>
        </div>
        <small class="help-text">
        Tokenå°†ä»…åœ¨å½“å‰ä¼šè¯ä¸­ä¿å­˜ï¼Œä¸ä¼šæŒä¹…åŒ–å­˜å‚¨
        </small>
    </div>

    <div class="token-guide">
        <details>
        <summary>ğŸ“‹ å¦‚ä½•è·å–GitHub Personal Access Tokenï¼Ÿ</summary>
        <ol class="guide-steps">
            <li>ç™»å½•GitHubå¹¶è¿›å…¥ <strong>Settings</strong></li>
            <li>ç‚¹å‡»å·¦ä¾§èœå•çš„ <strong>Developer settings</strong></li>
            <li>é€‰æ‹© <strong>Personal access tokens â†’ Tokens (classic)</strong></li>
            <li>ç‚¹å‡» <strong>Generate new token (classic)</strong></li>
            <li>è®¾ç½®Tokenåç§°å’Œè¿‡æœŸæ—¶é—´</li>
            <li>å‹¾é€‰ <strong>repo</strong> æƒé™ï¼ˆå®Œæ•´ä»“åº“è®¿é—®ï¼‰</li>
            <li>ç‚¹å‡» <strong>Generate token</strong> å¹¶å¤åˆ¶ç”Ÿæˆçš„Token</li>
        </ol>
        <div class="warning-box">
            âš ï¸ <strong>é‡è¦ï¼š</strong>Tokenåªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·å¦¥å–„ä¿ç®¡ï¼
        </div>
        </details>
    </div>

    <div class="form-actions">
        <button 
        type="button" 
        (click)="onTest()" 
        [disabled]="configForm.invalid || isTesting"
        class="btn btn-secondary">
        {{isTesting ? 'æµ‹è¯•ä¸­...' : 'ğŸ” æµ‹è¯•è¿æ¥'}}
        </button>
        
        <button 
        type="submit" 
        [disabled]="configForm.invalid || isTesting"
        class="btn btn-primary">
        {{isConfigured ? 'æ›´æ–°é…ç½®' : 'ä¿å­˜é…ç½®'}}
        </button>

        <button 
        type="button" 
        *ngIf="isConfigured"
        (click)="onClear()"
        class="btn btn-danger">
        æ¸…é™¤é…ç½®
        </button>
    </div>

    <!-- æµ‹è¯•ç»“æœ -->
    <div class="test-result" *ngIf="testResult">
        <div class="alert" [ngClass]="testResult.success ? 'alert-success' : 'alert-error'">
        <strong>{{testResult.success ? 'âœ… è¿æ¥æˆåŠŸ' : 'âŒ è¿æ¥å¤±è´¥'}}</strong>
        <p>{{testResult.message}}</p>
        </div>
    </div>
    </form>
</div>
